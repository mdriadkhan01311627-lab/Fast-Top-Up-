<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FAST Top-Up</title>
    <meta property="og:image" content="https://iili.io/fTkGh4s.md.png">
<meta name="twitter:image" content="https://iili.io/fTkGh4s.md.png">
    <style>
        /* CSS RESET & FONT */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
        :root {
            --primary-color: #FBC02D;
            --primary-gradient: linear-gradient(45deg, #FFD700, #FBC02D);
            --primary-glow: 0 0 20px rgba(251, 192, 45, 0.6);
            --text-color: #212121;
            --light-text-color: #757575;
            --bg-color: #F9F9F9;
            --white-color: #FFFFFF;
            --card-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            --danger-color: #e53935;
            --success-color: #43A047;
            
            /* Gateway Colors */
            --bkash-color: #E2136E;
            --nagad-color: #F7921E;
            --rocket-color: #8C3494;
            
            /* Footer Colors */
            --footer-bg: #0b1142;
            --footer-text: #ffffff;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            overscroll-behavior-y: contain;
            -webkit-tap-highlight-color: transparent;
        }

        /* UTILITY CLASSES */
        .d-none { display: none !important; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 15px; }

        /* LOADER */
        .loader-wrapper {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(255, 255, 255, 0.9);
            display: flex; justify-content: center; align-items: center;
            z-index: 9999; backdrop-filter: blur(5px);
        }
        .loader {
            border: 8px solid #f3f3f3; border-top: 8px solid var(--primary-color);
            border-radius: 50%; width: 60px; height: 60px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* TOAST NOTIFICATION */
        #toast-container {
            position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%);
            z-index: 10000; display: flex; flex-direction: column; gap: 10px;
        }
        .toast {
            background: rgba(0,0,0,0.8); color: white; padding: 12px 20px;
            border-radius: 25px; font-size: 0.9rem; animation: fadeInOut 3s forwards;
            display: flex; align-items: center; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .toast.success { border-left: 5px solid var(--success-color); }
        .toast.error { border-left: 5px solid var(--danger-color); }
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateY(20px); }
            10% { opacity: 1; transform: translateY(0); }
            90% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-20px); }
        }

        /* --- AUTH VIEWS --- */
        .auth-container { display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; }
        .auth-card { background: var(--white-color); padding: 40px 30px; border-radius: 16px; box-shadow: var(--card-shadow); width: 100%; max-width: 400px; text-align: center; }
        .auth-title { font-size: 2rem; font-weight: 700; margin-bottom: 10px; color: var(--primary-color); }
        .auth-subtitle { font-size: 1rem; color: var(--light-text-color); margin-bottom: 30px; }
        .form-group { margin-bottom: 20px; text-align: left; }
        .form-group input { width: 100%; padding: 12px 15px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; transition: all 0.3s ease; }
        .form-group input:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(251, 192, 45, 0.3); }
        .btn { width: 100%; padding: 12px; border: none; border-radius: 8px; background: var(--primary-gradient); color: var(--text-color); font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .btn:hover { transform: translateY(-2px); box-shadow: var(--primary-glow); }
        .auth-link { color: var(--primary-color); text-decoration: none; font-weight: 500; cursor: pointer; }
        .auth-link:hover { text-decoration: underline; }
        .auth-footer { margin-top: 20px; color: var(--light-text-color); }
        .error-message { color: var(--danger-color); font-size: 0.9rem; margin-top: 10px; min-height: 1.2em; }
        
        /* SPLASH SCREEN */
        #splash-screen { display: flex; flex-direction: column; justify-content: center; align-items: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-color); z-index: 10000; }
        #splash-logo { font-size: 3rem; font-weight: 700; color: var(--primary-color); }

        /* --- MAIN APP VIEW --- */
        #app-view { padding-bottom: 80px; }
        
        /* Header */
        .app-header { background: var(--white-color); padding: 15px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); }
        .app-logo { font-size: 1.5rem; font-weight: 700; color: var(--primary-color); }
        .wallet-balance { display: flex; align-items: center; background: #fff8e1; padding: 8px 12px; border-radius: 20px; font-weight: 600; border: 1px solid var(--primary-color); }
        .wallet-balance svg { width: 20px; height: 20px; margin-right: 8px; fill: var(--primary-color); }

        /*Notice Bar*/
        .notice-bar { 
    background: var(--primary-gradient); 
    color: white; 
    padding: 10px 15px; 
    font-weight: 500; 
    font-size: 0.9rem; 
    text-align: center;
    line-height: 1.4;
    position: relative;
    z-index: 100;
        }

        /* Slider */
        .slider-container { position: relative; max-width: 1200px; margin: 20px auto; border-radius: 12px; overflow: hidden; box-shadow: var(--card-shadow); }
        .slider { display: flex; transition: transform 0.5s ease-in-out; }
        .slide { min-width: 100%; cursor: pointer; } 
        .slide img { width: 100%; display: block; aspect-ratio: 16/7; object-fit: cover; }

        /* --- VIDEO SECTION (NEW) --- */
        .video-wrapper { max-width: 1200px; margin: 20px auto; padding: 0 15px; }
        .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 12px; box-shadow: var(--card-shadow); background: #000; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }

        /* --- CATEGORY STYLES --- */
        .category-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; padding: 15px; }
        .category-card { background: var(--white-color); border-radius: 12px; overflow: hidden; box-shadow: var(--card-shadow); cursor: pointer; transition: all 0.3s ease; text-align: center; }
        .category-card:hover { transform: translateY(-3px); }
        .category-card img { width: 100%; aspect-ratio: 1/1; object-fit: cover; }
        .category-name { padding: 10px; font-weight: 600; font-size: 0.95rem; }
        .section-header { padding: 10px 15px; display: flex; align-items: center; gap: 10px;}
        .back-button { background: #eee; border: none; padding: 8px 12px; border-radius: 20px; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 5px; }

        /* Product Section */
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; padding: 15px;}
        .product-card { background: var(--white-color); border-radius: 12px; overflow: hidden; box-shadow: var(--card-shadow); cursor: pointer; transition: all 0.3s ease; text-align: center; }
        .product-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.12); }
        .product-card img { width: 100%; aspect-ratio: 1/1; object-fit: cover; }
        .product-info { padding: 10px; }
        .product-name { font-weight: 600; font-size: 0.9rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .product-price { background: var(--primary-gradient); color: var(--text-color); font-weight: 700; padding: 3px 8px; border-radius: 20px; display: inline-block; margin-top: 8px; font-size: 0.9rem; }
        
        .product-actions { display: flex; gap: 8px; margin-top: 10px; }
        .btn-buy-now { width: 100%; padding: 8px 12px; border: none; border-radius: 6px; font-size: 0.9rem; font-weight: 600; cursor: pointer; background: var(--text-color); color: white; transition: all 0.3s ease; }
        .btn-buy-now:hover { opacity: 0.9; transform: translateY(-2px); }
        
        .product-card.out-of-stock { opacity: 0.5; cursor: not-allowed; position: relative; }
        .product-card.out-of-stock::after { content: 'Out of Stock'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.7); color: white; padding: 5px 10px; border-radius: 5px; font-size: 0.8rem; font-weight: 600; }

        /* --- CUSTOM FOOTER --- */
        .custom-footer { background-color: var(--footer-bg); color: var(--footer-text); padding-bottom: 30px; margin-top: 30px; text-align: center; }
        .footer-banner img { width: 100%; height: auto; display: block; }
        .footer-content { padding: 30px 20px; }
        .footer-content h3 { font-size: 1.4rem; font-weight: 700; margin-bottom: 10px; text-transform: uppercase; }
        .footer-desc { color: #ccc; font-size: 0.9rem; margin-bottom: 25px; line-height: 1.5; }
        .social-icons { display: flex; justify-content: center; gap: 15px; margin-bottom: 30px; }
        .social-icon-btn { width: 45px; height: 45px; border: 1px solid rgba(255,255,255,0.2); border-radius: 10px; display: flex; justify-content: center; align-items: center; transition: all 0.3s; cursor: pointer; color: white; text-decoration: none; }
        .social-icon-btn:hover { background: rgba(255,255,255,0.1); transform: translateY(-3px); border-color: white; }
        .tele-support-box { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; padding: 15px; display: flex; align-items: center; justify-content: flex-start; max-width: 300px; margin: 0 auto; cursor: pointer; text-decoration: none; color: white; }
        .tele-icon { background: white; border-radius: 50%; width: 40px; height: 40px; display: flex; justify-content: center; align-items: center; margin-right: 15px; }
        .tele-info div:first-child { font-weight: 700; font-size: 1rem; }
        .tele-info div:last-child { font-size: 0.85rem; color: #ddd; }

        /* App Pages */
        .app-page { padding: 0 0 20px 0; }
        .page-title { font-size: 2rem; font-weight: 700; margin: 20px 15px; }

        /* Deposit Page */
        .payment-tabs { display: flex; border-bottom: 1px solid #ddd; margin-bottom: 20px; padding: 0 15px;}
        .tab-link { padding: 10px 20px; cursor: pointer; font-weight: 600; border-bottom: 3px solid transparent; transition: all 0.3s ease; }
        .tab-link.active { color: var(--primary-color); border-bottom-color: var(--primary-color); }
        .tab-content { display: none; padding: 0 15px;}
        .tab-content.active { display: block; animation: fadeIn 0.5s; }
        .payment-info { background: #fff8e1; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 5px solid var(--primary-color); position: relative;}
        .payment-info p { margin-bottom: 5px; }
        .payment-info strong { font-size: 1.2rem; letter-spacing: 1px; }
        .copy-btn { background: var(--white-color); border: 1px solid #ddd; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; cursor: pointer; margin-left: 10px; }

        /* Account & History Page */
        .account-info { background: var(--white-color); padding: 20px; border-radius: 12px; box-shadow: var(--card-shadow); margin-bottom: 20px; margin: 0 15px 20px 15px;}
        .history-list { list-style: none; padding: 0 15px; }
        .history-item { background: var(--white-color); padding: 15px; border-radius: 8px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .status-dot { width: 12px; height: 12px; border-radius: 50%; display: inline-block; margin-right: 8px; }
        .status-Pending { background-color: #FB8C00; }
        .status-Completed { background-color: var(--success-color); }
        .status-Rejected { background-color: var(--danger-color); }
        .btn-logout { background: var(--danger-color); color: white; margin-top: 10px; }
        
        .empty-state { text-align: center; padding: 40px 20px; color: #777; }

        /* Footer Navigation */
        .footer-nav { position: fixed; bottom: 0; left: 0; width: 100%; background: var(--white-color); display: flex; justify-content: space-around; box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.08); z-index: 100; }
        .nav-item { flex: 1; text-align: center; padding: 8px 0; cursor: pointer; color: var(--light-text-color); transition: color 0.3s ease; }
        .nav-item svg { width: 22px; height: 22px; margin-bottom: 2px; }
        .nav-item.active { color: var(--primary-color); }
        .nav-item .nav-text { font-size: 0.7rem; font-weight: 500; }

        /* Floating Support */
        .floating-support-btn {
            position: fixed; bottom: 90px; right: 20px; width: 55px; height: 55px;
            background-color: #E53935; border-radius: 50%; display: flex; justify-content: center; align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3); z-index: 1000; cursor: pointer; transition: transform 0.3s;
        }
        .floating-support-btn:hover { transform: scale(1.1); }
        .floating-support-btn svg { width: 30px; height: 30px; fill: white; }

        /* --- NEW MODAL & GATEWAY STYLES --- */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); display: flex; justify-content: center; align-items: center; z-index: 2000; opacity: 0; visibility: hidden; transition: all 0.3s ease; }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        .modal-content { background: var(--white-color); border-radius: 16px; width: 95%; max-width: 500px; transform: scale(0.95); transition: all 0.3s ease; overflow: hidden; max-height: 90vh; overflow-y: auto; }
        .modal-overlay.active .modal-content { transform: scale(1); }
        
        /* Select Method Header */
        .select-method-header { padding: 20px; border-bottom: 1px solid #eee; }
        .select-method-title { font-size: 1.2rem; font-weight: 700; color: var(--text-color); }
        .select-player-id-box { margin-bottom: 20px; }
        .select-player-id-box label { font-size: 0.9rem; font-weight: 600; color: #555; display: block; margin-bottom: 5px; }
        .select-player-id-box input { width: 100%; padding: 12px; border: 2px solid var(--primary-color); border-radius: 8px; font-size: 1rem; }

        /* Method Selection Cards */
        .method-options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 20px; }
        .method-card { border: 2px solid #eee; border-radius: 12px; padding: 15px; text-align: center; cursor: pointer; transition: all 0.3s; position: relative; }
        .method-card:hover { border-color: var(--primary-color); background: #fffdf5; }
        .method-card.selected { border-color: var(--primary-color); background: #fff8e1; }
        .method-card.selected::after { content: '‚úì'; position: absolute; top: -10px; left: -10px; background: red; color: white; width: 25px; height: 25px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; border: 2px solid white; }
        .method-card img, .method-card svg { height: 40px; margin-bottom: 8px; display: block; margin: 0 auto 8px auto; }
        .method-label { font-weight: 600; font-size: 0.9rem; }
        
        .instant-pay-methods { display: flex; justify-content: center; gap: 15px; margin-top: 10px; }
        .instant-icon { width: 45px; height: 45px; object-fit: contain; }

        /* Gateway Interface */
        .gateway-container { display: none; background: #fff; height: 100%; width: 100%; flex-direction: column; }
        .gateway-container.active { display: flex; }
        
        .gateway-header { padding: 15px; color: white; display: flex; justify-content: space-between; align-items: center; }
        .gateway-logo { font-weight: 700; font-size: 1.2rem; display: flex; align-items: center; gap: 10px; }
        .gateway-logo img { height: 30px; background: white; padding: 2px; border-radius: 4px; }
        
        .gateway-body { padding: 20px; flex: 1; }
        .gateway-amount-box { background: #f4f4f4; padding: 15px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .gateway-label { color: #666; font-size: 0.9rem; }
        .gateway-value { font-weight: 700; font-size: 1.1rem; }
        
        .gateway-number-box { margin-bottom: 25px; }
        .gateway-number-display { display: flex; align-items: center; justify-content: space-between; background: #eee; padding: 10px; border-radius: 5px; margin-top: 5px; font-weight: 700; font-size: 1.1rem; }
        
        .gateway-steps { font-size: 0.9rem; color: #444; margin-bottom: 20px; line-height: 1.6; }
        .gateway-steps li { margin-bottom: 8px; }
        
        .gateway-input-box { margin-bottom: 20px; }
        .gateway-input { width: 100%; padding: 15px; border: 1px solid #ccc; border-radius: 8px; font-size: 1rem; text-align: center; letter-spacing: 1px; }
        .gateway-input:focus { outline: none; border-color: #333; }
        
        .gateway-btn { width: 100%; padding: 15px; border: none; border-radius: 8px; color: white; font-weight: 700; font-size: 1.1rem; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        
        /* Gateway Themes */
        .theme-bkash .gateway-header { background: var(--bkash-color); }
        .theme-bkash .gateway-btn { background: var(--bkash-color); }
        .theme-nagad .gateway-header { background: var(--nagad-color); }
        .theme-nagad .gateway-btn { background: var(--nagad-color); }
        .theme-rocket .gateway-header { background: var(--rocket-color); }
        .theme-rocket .gateway-btn { background: var(--rocket-color); }

        .modal-close-btn { background: none; border: none; font-size: 1.5rem; color: white; cursor: pointer; }
        .modal-back-btn { background: #eee; border: none; padding: 5px 10px; border-radius: 5px; margin-bottom: 15px; cursor: pointer; font-weight: 600; }

        /* Maintenance & Update Modal (Cannot be closed) */
        .modal-overlay.static .modal-close { display: none; }
        .modal-overlay.static { z-index: 11000; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>
    
    <!-- Splash Screen -->
    <div id="splash-screen">
        <div id="splash-logo">Loading...</div>
    </div>
    
    <!-- Loader -->
    <div id="loader" class="loader-wrapper d-none">
        <div class="loader"></div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- Authentication Views -->
    <div id="auth-view" class="d-none">
        <!-- Login View -->
        <div id="login-view">
            <div class="auth-container">
                <div class="auth-card">
                    <h1 class="auth-title" id="login-app-name">Welcome</h1>
                    <p class="auth-subtitle">Sign in to continue</p>
                    <form id="login-form">
                        <div class="form-group">
                            <input type="email" id="login-email" placeholder="Email" required>
                        </div>
                        <div class="form-group">
                            <input type="password" id="login-password" placeholder="Password" required>
                        </div>
                        <div class="error-message" id="login-error"></div>
                        <button type="submit" class="btn">Login</button>
                    </form>
                    <p class="auth-footer">
                        <a href="#" class="auth-link" id="forgot-password-link">Forgot Password?</a>
                    </p>
                    <p class="auth-footer">
                        Don't have an account? <a href="#" class="auth-link" id="show-signup-link">Sign Up</a>
                        </form>
<!-- ‡¶è‡¶ñ‡¶æ‡¶®‡ßá Google ‡¶¨‡¶æ‡¶ü‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßã -->
<div style="text-align: center; margin: 15px 0;">
    <div style="display: flex; align-items: center; margin: 20px 0;">
        <div style="flex: 1; height: 1px; background: #ddd;"></div>
        <span style="padding: 0 15px; color: #666; font-size: 14px;">OR</span>
        <div style="flex: 1; height: 1px; background: #ddd;"></div>
    </div>
    
    <button type="button" onclick="googleLogin()" style="
        background: white;
        color: #444;
        border: 1px solid #ddd;
        border-radius: 5px;
        padding: 12px;
        width: 100%;
        font-size: 16px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    ">
        <img src="https://img.icons8.com/color/24/000000/google-logo.png" alt="Google">
        Continue with Google
    </button>
</div>
<!-- ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã -->
<p class="auth-footer">
                    </p>
                </div>
            </div>
        </div>

        <!-- Sign Up View -->
        <div id="signup-view" class="d-none">
            <div class="auth-container">
                <div class="auth-card">
                    <h1 class="auth-title" id="signup-app-name">Create Account</h1>
                    <p class="auth-subtitle">Get started with your new account</p>
                    <form id="signup-form">
                        <div class="form-group">
                            <input type="email" id="signup-email" placeholder="Email" required>
                        </div>
                        <div class="form-group">
                            <input type="password" id="signup-password" placeholder="Password" required>
                        </div>
                        <div class="form-group">
                            <input type="password" id="signup-confirm-password" placeholder="Confirm Password" required>
                        </div>
                        <div class="error-message" id="signup-error"></div>
                        <button type="submit" class="btn">Sign Up</button>
                    </form>
                    <p class="auth-footer">
                        Already have an account? <a href="#" class="auth-link" id="show-login-link">Login</a>
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Forgot Password View -->
        <div id="forgot-password-view" class="d-none">
            <div class="auth-container">
                <div class="auth-card">
                    <h1 class="auth-title">Reset Password</h1>
                    <p class="auth-subtitle">Enter your email to receive a reset link</p>
                    <form id="forgot-password-form">
                        <div class="form-group">
                            <input type="email" id="reset-email" placeholder="Email" required>
                        </div>
                        <div class="error-message" id="reset-message"></div>
                        <button type="submit" class="btn">Send Reset Link</button>
                    </form>
                    <p class="auth-footer">
                        <a href="#" class="auth-link" id="back-to-login-link">Back to Login</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Main Application View -->
    <div id="app-view" class="d-none">
        <!-- Header -->
        <header class="app-header">
            <div class="app-logo" id="app-name-header">App</div>
            <div class="wallet-balance">
                <svg viewBox="0 0 24 24"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>
                <span id="wallet-balance-value">0</span>
            </div>
        </header>

        <!-- Notice Bar -->
        <div class="notice-bar">
            <marquee id="notice-text">Welcome to our top-up center!</marquee>
        </div>

        <main id="main-content">
            <!-- Home Page -->
            <div id="home-page" class="app-page">
                <!-- Slider -->
                <div class="slider-container">
                    <div class="slider" id="image-slider"></div>
                </div>

                <!-- NEW: Video Section -->
                <div id="home-video-wrapper" class="video-wrapper d-none">
                    <div class="video-container">
                        <iframe id="home-video-iframe" src="" allowfullscreen></iframe>
                    </div>
                </div>

                <!-- Category Section -->
                <div id="category-container">
                    <h2 style="padding: 15px 15px 0 15px; font-size: 1.5rem; font-weight: 700;">Categories</h2>
                    <div class="category-grid" id="category-list">
                        <!-- Categories will load here -->
                    </div>
                </div>

                <!-- Product Section (Hidden by default) -->
                <div id="product-container" class="d-none">
                    <div class="section-header">
                        <button class="back-button" id="back-to-categories-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                            Back
                        </button>
                        <h2 id="current-category-title" style="font-size: 1.3rem; margin: 0;">Products</h2>
                    </div>
                    <div id="product-list" class="product-grid">
                        <!-- Products will load here -->
                    </div>
                </div>

                <!-- FOOTER SECTION -->
                <div class="custom-footer">
                    <div class="footer-banner">
                        <img id="footer-banner-img" class="d-none" alt="Notice">
                    </div>
                    <div class="footer-content">
                        <h3>STAY CONNECTED</h3>
                        <p id="footer-desc" class="footer-desc">
                            Trusted by Thousands of Gamers<br>
                            Best Diamond Top-Up Service in Bangladesh
                        </p>
                        
                        <div class="social-icons">
                            <a id="link-fb" class="social-icon-btn d-none" target="_blank">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
                            </a>
                            <a id="link-insta" class="social-icon-btn d-none" target="_blank">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                            </a>
                            <a id="link-yt" class="social-icon-btn d-none" target="_blank">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33zM9.75 15.02l5.75-3.27-5.75-3.27z"></path></svg>
                            </a>
                            <a id="link-mail" class="social-icon-btn d-none">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                            </a>
                        </div>

                        <h3>SUPPORT CENTER</h3>
                        <a id="tele-support-link" class="tele-support-box d-none" target="_blank">
                            <div class="tele-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="#2196F3"><path d="M21.1 4.8l-18 7c-1.3.5-1.2 1.2 0 1.7l4.6 1.4 10.6-6.7c.5-.3 1 .1.6.5l-8.6 7.7v4.4l3.4-3.1 5.3 4c1.2.7 2.1.4 2.4-1.1l4.4-20.7c.4-1.8-1-2.5-2.7-1.1z"/></svg>
                            </div>
                            <div class="tele-info">
                                <div>Help line [<span id="support-time-text">9AM-12PM</span>]</div>
                                <div>‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Deposit Page -->
            <div id="deposit-page" class="app-page d-none">
                <h1 class="page-title">Add Money</h1>
                <div class="payment-tabs">
                    <div class="tab-link active" data-tab="bkash">Bkash</div>
                    <div class="tab-link" data-tab="nagad">Nagad</div>
                    <div class="tab-link" data-tab="rocket">Rocket</div>
                </div>
                
                <div id="bkash-tab" class="tab-content active">
                    <div class="payment-info">
                        <p>Send money to Bkash:</p>
                        <div>
                            <strong id="bkash-number">Loading...</strong>
                            <button class="copy-btn" onclick="copyToClipboard('bkash-number')">Copy</button>
                        </div>
                        <p style="margin-top:10px;">Min deposit: <strong>‡ß≥ <span class="min-deposit-display">...</span></strong></p>
                    </div>
                    <form class="deposit-form" data-method="Bkash">
                        <div class="form-group"><input type="number" placeholder="Amount" required></div>
                        <div class="form-group"><input type="text" placeholder="Transaction ID" required></div>
                        <button type="submit" class="btn">Submit Request</button>
                    </form>
                </div>
                
                <div id="nagad-tab" class="tab-content">
                     <div class="payment-info">
                        <p>Send money to Nagad:</p>
                        <div>
                            <strong id="nagad-number">Loading...</strong>
                            <button class="copy-btn" onclick="copyToClipboard('nagad-number')">Copy</button>
                        </div>
                        <p style="margin-top:10px;">Min deposit: <strong>‡ß≥ <span class="min-deposit-display">...</span></strong></p>
                    </div>
                    <form class="deposit-form" data-method="Nagad">
                        <div class="form-group"><input type="number" placeholder="Amount" required></div>
                        <div class="form-group"><input type="text" placeholder="Transaction ID" required></div>
                        <button type="submit" class="btn">Submit Request</button>
                    </form>
                </div>
                
                <div id="rocket-tab" class="tab-content">
                     <div class="payment-info">
                        <p>Send money to Rocket:</p>
                        <div>
                            <strong id="rocket-number">Loading...</strong>
                            <button class="copy-btn" onclick="copyToClipboard('rocket-number')">Copy</button>
                        </div>
                        <p style="margin-top:10px;">Min deposit: <strong>‡ß≥ <span class="min-deposit-display">...</span></strong></p>
                    </div>
                    <form class="deposit-form" data-method="Rocket">
                        <div class="form-group"><input type="number" placeholder="Amount" required></div>
                        <div class="form-group"><input type="text" placeholder="Transaction ID" required></div>
                        <button type="submit" class="btn">Submit Request</button>
                    </form>
                </div>
                
                <h2 style="margin: 20px 15px 15px 15px;">Deposit History</h2>
                <ul id="deposit-history-list" class="history-list"></ul>
            </div>

            <!-- My Orders Page -->
            <div id="orders-page" class="app-page d-none">
                <h1 class="page-title">My Orders</h1>
                <ul id="order-history-list" class="history-list"></ul>
            </div>

            <!-- My Codes Page -->
            <div id="codes-page" class="app-page d-none">
                <h1 class="page-title">My Codes</h1>
                <div class="empty-state">
                    <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#ccc" stroke-width="2" style="margin-bottom:10px;">
                        <rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>
                    </svg>
                    <p>No codes available yet.</p>
                </div>
            </div>

            <!-- Account Page -->
            <div id="account-page" class="app-page d-none">
                <h1 class="page-title">My Account</h1>
                <div class="account-info">
                    <div style="text-align:center; margin-bottom:10px;">
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="#ddd"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                    </div>
                    <p style="text-align:center; font-size:1.1rem;"><strong><span id="user-email-display"></span></strong></p>
                    <p style="text-align:center; margin-top: 5px; color: #777;">Version: <span id="app-version-display">1.0.0</span></p>
                </div>

                <div style="padding: 15px;">
                    <button id="logout-btn" class="btn btn-logout">Logout</button>
                </div>
            </div>
        </main>

        <!-- Floating Support Button -->
        <a id="floating-support-btn" href="#" target="_blank" class="floating-support-btn">
            <svg viewBox="0 0 24 24"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.59l2.2-2.21c.28-.26.36-.65.25-1C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM19 12h2a9 9 0 0 0-9-9v2c3.87 0 7 3.13 7 7zm-4 0h2c0-1.66-1.34-3-3-3v2c.55 0 1 .45 1 1z"/></svg>
        </a>

        <!-- Footer Navigation -->
        <nav class="footer-nav">
            <div class="nav-item active" data-page="home-page">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
                <div class="nav-text">Home</div>
            </div>
            <div class="nav-item" data-page="deposit-page">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/><line x1="12" y1="10" x2="12" y2="16" stroke="currentColor" stroke-width="2"/><line x1="9" y1="13" x2="15" y2="13" stroke="currentColor" stroke-width="2"/></svg>
                <div class="nav-text">Add Money</div>
            </div>
            <div class="nav-item" data-page="orders-page">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"/></svg>
                <div class="nav-text">My Orders</div>
            </div>
            <div class="nav-item" data-page="codes-page">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"/></svg>
                <div class="nav-text">My Codes</div>
            </div>
            <div class="nav-item" data-page="account-page">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                <div class="nav-text">My Account</div>
            </div>
        </nav>
    </div>

    <!-- NEW: PURCHASE MODAL (Pagla Bazar Style) -->
    <div id="purchase-modal" class="modal-overlay">
        <div class="modal-content">
            <!-- View 1: Selection -->
            <div id="view-selection">
                <div class="select-method-header">
                    <div style="display:flex; justify-content:space-between; align-items:center;">
                        <div class="select-method-title">Select Option</div>
                        <button class="modal-close-btn" onclick="closePurchaseModal()" style="color:#333;">&times;</button>
                    </div>
                </div>
                
                <div style="padding: 20px;">
                    <div class="select-player-id-box">
                        <label id="input-label-text">Enter Player ID / Info</label>
                        <input type="text" id="purchase-player-id" placeholder="User ID / Player ID">
                    </div>

                    <div class="method-options-grid">
                        <!-- Wallet Card -->
                        <div class="method-card" onclick="selectPurchaseMethod('wallet')" id="card-wallet">
                            <svg viewBox="0 0 24 24" style="height:40px; fill:#FBC02D;"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>
                            <div class="method-label">Wallet Pay</div>
                        </div>

                        <!-- Instant Pay Card -->
                        <div class="method-card" onclick="selectPurchaseMethod('instant')" id="card-instant">
                            <div class="instant-pay-methods">
                                <img src="https://iili.io/fIsMcRj.md.jpg" class="instant-icon" alt="bKash">
                                <img src="https://iili.io/fIsOf99.md.png" class="instant-icon" alt="Nagad">
                            </div>
                            <div class="method-label" style="margin-top:5px;">Instant Pay</div>
                        </div>
                    </div>

                    <!-- Sub Options for Instant (Hidden initially) -->
                    <div id="instant-options" class="d-none" style="margin-top:15px; border-top:1px solid #eee; padding-top:15px;">
                        <p style="text-align:center; font-weight:600; margin-bottom:10px;">Select Payment Gateway:</p>
                        <div style="display:flex; justify-content:center; gap:20px;">
                            <img src="https://iili.io/fIsMcRj.md.jpg" style="height:50px; cursor:pointer;" onclick="openGateway('bkash')">
                            <img src="https://iili.io/fIsOf99.md.png" style="height:50px; cursor:pointer;" onclick="openGateway('nagad')">
                            <img src="https://seeklogo.com/images/D/dutch-bangla-rocket-logo-B4D1CC458D-seeklogo.com.png" style="height:50px; cursor:pointer;" onclick="openGateway('rocket')">
                        </div>
                    </div>
                </div>
                
                <div style="padding:0 20px 20px 20px;">
                    <button id="btn-wallet-confirm" class="btn d-none" onclick="confirmWalletPurchase()">Confirm Wallet Payment</button>
                </div>
            </div>

            <!-- View 2: Gateway UI -->
            <div id="view-gateway" class="gateway-container">
                <div class="gateway-header">
                    <button class="modal-close-btn" onclick="backToSelection()">&#8592;</button>
                    <div class="gateway-logo">
                        <span id="gateway-name">bKash</span> Payment
                    </div>
                    <div style="width:24px;"></div> <!-- Spacer -->
                </div>
                
                <div class="gateway-body">
                    <div class="gateway-amount-box">
                        <span class="gateway-label">Total Amount:</span>
                        <span class="gateway-value" id="gateway-amount">‡ß≥ 0</span>
                    </div>
                    
                    <div class="gateway-number-box">
                        <span class="gateway-label">Send Money to:</span>
                        <div class="gateway-number-display">
                            <span id="gateway-number">...</span>
                            <span style="cursor:pointer; color:#555;" onclick="copyToClipboard('gateway-number')">üìã</span>
                        </div>
                    </div>
                    
                    <ul class="gateway-steps">
                        <li>1. Go to your <span id="gateway-step-name">bKash</span> App or dial *247#</li>
                        <li>2. Choose "Send Money" option.</li>
                        <li>3. Enter the number above.</li>
                        <li>4. Enter amount: <strong><span id="gateway-step-amount"></span></strong></li>
                        <li>5. Enter Reference: <strong>1</strong></li>
                        <li>6. Enter PIN to confirm.</li>
                        <li>7. Copy the Transaction ID (TrxID) and paste below.</li>
                    </ul>
                    
                    <div class="gateway-input-box">
                        <input type="text" class="gateway-input" id="gateway-trx" placeholder="Enter Transaction ID (TrxID)">
                    </div>
                    
                    <button class="gateway-btn" onclick="submitGatewayOrder()">VERIFY</button>
                </div>
            </div>
        </div>
    </div>

    <!-- System Modal (Update/Maintenance) -->
    <div id="system-modal" class="modal-overlay static">
        <div class="modal-content">
            <h2 class="modal-title" id="system-modal-title">Important!</h2>
            <div class="modal-body" id="system-modal-body" style="text-align: center;">
                <p id="system-modal-msg">Loading...</p>
            </div>
            <div class="modal-footer" id="system-modal-footer">
                <!-- Buttons will be injected here -->
            </div>
        </div>
    </div>
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore-compat.js"></script>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCLdhgrHPwBqKCHKQS-m17o3SFoQLd_I5w",
            authDomain: "fast-top-up-bddfc.firebaseapp.com",
            projectId: "fast-top-up-bddfc",
            storageBucket: "fast-top-up-bddfc.firebasestorage.app",
            messagingSenderId: "156629880224",
            appId: "1:156629880224:web:44762c15f1b66a7fb8e8c5",
            measurementId: "G-85DEE4H58J"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // Global Variables
        let currentUser = null;
        let currentProduct = null;
        let globalSettings = {};
        let allProducts = [];
        let currentGatewayMethod = null;
        const CURRENT_APP_VERSION = "1.0.0";

        // UI Elements
        const splashScreen = document.getElementById('splash-screen');
        const splashLogo = document.getElementById('splash-logo');
        const loader = document.getElementById('loader');
        const authView = document.getElementById('auth-view');
        const appView = document.getElementById('app-view');
        const mainContent = document.getElementById('main-content');
        const systemModal = document.getElementById('system-modal');
        const purchaseModal = document.getElementById('purchase-modal');

        // Utility Functions
        function showLoader() {
            loader.classList.remove('d-none');
        }

        function hideLoader() {
            loader.classList.add('d-none');
        }

        function showToast(message, type = 'success') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerText = message;
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 3500);
        }

        function copyToClipboard(elementId) {
            const text = document.getElementById(elementId).innerText;
            if (text && text !== 'Loading...' && text !== '...') {
                navigator.clipboard.writeText(text).then(() => {
                    showToast("Number copied to clipboard!", "success");
                }).catch(err => {
                    showToast("Failed to copy", "error");
                });
            }
        }

        function showAuthSubView(viewId) {
            ['login-view', 'signup-view', 'forgot-password-view'].forEach(id => {
                document.getElementById(id).classList.add('d-none');
            });
            document.getElementById(viewId).classList.remove('d-none');
        }

        function switchAppPage(pageId) {
            mainContent.querySelectorAll('.app-page').forEach(page => page.classList.add('d-none'));
            document.getElementById(pageId).classList.remove('d-none');
            document.querySelectorAll('.footer-nav .nav-item').forEach(item => {
                item.classList.toggle('active', item.dataset.page === pageId);
            });
            // Reset Home to Category View
            if (pageId === 'home-page') {
                showCategoryView();
            }
        }

        function showCategoryView() {
            document.getElementById('product-container').classList.add('d-none');
            document.getElementById('category-container').classList.remove('d-none');
        }

        function initSlider() {
    const slider = document.querySelector('.slider');
    const container = document.querySelector('.slider-container');
    
    if (!slider || !container || slider.children.length <= 1) return;

    let currentIndex = 0;
    const slides = Array.from(slider.children);
    const totalSlides = slides.length;
    let autoSlideInterval;
    let isDragging = false;
    let startPos = 0;
    let currentTranslate = 0;
    let prevTranslate = 0;

    // ‡¶¨‡¶æ‡¶â‡¶®‡ßç‡¶°‡¶æ‡¶∞‡¶ø ‡¶ö‡ßá‡¶ï ‡¶∏‡¶π ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶° ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    const slideTo = (index) => {
        // ‡¶∏‡¶æ‡¶á‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶°‡¶ø‡¶Ç (‡¶á‡¶®‡¶´‡¶æ‡¶á‡¶®‡¶ø‡¶ü ‡¶≤‡ßÅ‡¶™)
        if (index < 0) {
            index = totalSlides - 1;
        } else if (index >= totalSlides) {
            index = 0;
        }
        
        // CSS ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡¶ø‡¶∂‡¶®
        slider.classList.add('slider-transition');
        slider.style.transform = `translateX(-${index * 100}%)`;
        
        // ARIA attributes ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
        slides.forEach((slide, i) => {
            slide.setAttribute('aria-hidden', i !== index);
            if (i === index) {
                slide.focus();
            }
        });
        
        currentIndex = index;
        
        // ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡¶ø‡¶∂‡¶® ‡¶∂‡ßá‡¶∑ ‡¶π‡¶≤‡ßá ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠
        setTimeout(() => {
            slider.classList.remove('slider-transition');
        }, 500);
    };

    const startAutoSlide = () => {
        clearInterval(autoSlideInterval);
        autoSlideInterval = setInterval(() => {
            slideTo(currentIndex + 1);
        }, 3000);
    };

    const stopAutoSlide = () => {
        clearInterval(autoSlideInterval);
    };

    const handleStart = (e) => {
        isDragging = true;
        startPos = e.type.includes('mouse') ? e.pageX : e.touches[0].clientX;
        prevTranslate = currentIndex * container.offsetWidth * -1;
        
        slider.classList.remove('slider-transition');
        stopAutoSlide();
    };

    const handleMove = (e) => {
        if (!isDragging) return;
        e.preventDefault();
        
        const currentPos = e.type.includes('mouse') ? e.pageX : e.touches[0].clientX;
        currentTranslate = prevTranslate + currentPos - startPos;
        slider.style.transform = `translateX(${currentTranslate}px)`;
    };

    const handleEnd = () => {
        if (!isDragging) return;
        isDragging = false;
        
        const movedBy = currentTranslate - prevTranslate;
        const threshold = container.offsetWidth * 0.2;

        if (movedBy < -threshold) {
            // ‡¶°‡¶æ‡¶®‡ßá ‡¶∏‡ßã‡ßü‡¶æ‡¶á‡¶™
            slideTo(currentIndex + 1);
        } else if (movedBy > threshold) {
            // ‡¶¨‡¶æ‡¶Æ‡ßá ‡¶∏‡ßã‡ßü‡¶æ‡¶á‡¶™
            slideTo(currentIndex - 1);
        } else {
            // ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßá ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶ì
            slideTo(currentIndex);
        }
        
        startAutoSlide();
    };

    // ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞ ‡¶∏‡¶Ç‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ
    const events = {
        mouse: {
            start: 'mousedown',
            move: 'mousemove',
            end: ['mouseup', 'mouseleave']
        },
        touch: {
            start: 'touchstart',
            move: 'touchmove',
            end: 'touchend'
        }
    };

    // ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó
    container.addEventListener(events.touch.start, handleStart);
    container.addEventListener(events.touch.move, handleMove);
    container.addEventListener(events.touch.end, handleEnd);
    
    container.addEventListener(events.mouse.start, handleStart);
    container.addEventListener(events.mouse.move, handleMove);
    events.mouse.end.forEach(event => {
        container.addEventListener(event, handleEnd);
    });

    // ‡¶ï‡¶ø-‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶®
    container.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') {
            slideTo(currentIndex - 1);
            stopAutoSlide();
        } else if (e.key === 'ArrowRight') {
            slideTo(currentIndex + 1);
            stopAutoSlide();
        }
    });

    // ‡¶∞‡¶ø‡¶∏‡¶æ‡¶á‡¶ú ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
    let resizeTimeout;
    window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
            slideTo(currentIndex);
        }, 250);
    });

    // ‡¶Ü‡¶∞‡ßã ‡¶≠‡¶æ‡¶≤‡ßã ‡¶π‡¶¨‡ßá ‡¶Ø‡¶¶‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø destroy ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü
    const destroySlider = () => {
        clearInterval(autoSlideInterval);
        // ‡¶∏‡¶¨ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶â‡¶ö‡¶ø‡¶§
    };

    // ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶° ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
    slides[0].setAttribute('aria-hidden', 'false');
    for (let i = 1; i < slides.length; i++) {
        slides[i].setAttribute('aria-hidden', 'true');
    }

    // ‡¶Ö‡¶ü‡ßã ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶° ‡¶∂‡ßÅ‡¶∞‡ßÅ
    startAutoSlide();

    // ‡¶™‡¶æ‡¶¨‡¶≤‡¶ø‡¶ï API
    return {
        next: () => slideTo(currentIndex + 1),
        prev: () => slideTo(currentIndex - 1),
        goTo: (index) => slideTo(index),
        destroy: destroySlider
    };
}

// CSS:
/*
.slider-transition {
    transition: transform 0.5s ease-in-out;
}
*/

        // Authentication State Listener
        auth.onAuthStateChanged(user => {
            if (user) {
                currentUser = user;
                authView.classList.add('d-none');
                appView.classList.remove('d-none');
                initializeApp();
            } else {
                currentUser = null;
                authView.classList.remove('d-none');
                appView.classList.add('d-none');
                showAuthSubView('login-view');
                splashScreen.classList.add('d-none');
            }
        });

        // Authentication Forms
        document.getElementById('login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            showLoader();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            auth.signInWithEmailAndPassword(email, password)
                .catch(error => {
                    document.getElementById('login-error').textContent = error.message;
                })
                .finally(hideLoader);
        });

        document.getElementById('signup-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('signup-confirm-password').value;
            const errorEl = document.getElementById('signup-error');

            if (password !== confirmPassword) {
                errorEl.textContent = "Passwords do not match.";
                return;
            }

            showLoader();
            auth.createUserWithEmailAndPassword(email, password)
                .then(userCredential => {
                    return db.collection('users').doc(userCredential.user.uid).set({
                        email: userCredential.user.email,
                        walletBalance: 0
                    });
                })
                .catch(error => {
                    errorEl.textContent = error.message;
                })
                .finally(hideLoader);
        });

        document.getElementById('logout-btn').addEventListener('click', () => {
            auth.signOut();
        });

        document.getElementById('forgot-password-form').addEventListener('submit', (e) => {
            e.preventDefault();
            showLoader();
            const email = document.getElementById('reset-email').value;
            const messageEl = document.getElementById('reset-message');
            auth.sendPasswordResetEmail(email)
                .then(() => {
                    messageEl.style.color = 'var(--success-color)';
                    messageEl.textContent = 'Password reset email sent! Check your inbox.';
                })
                .catch(error => {
                    messageEl.style.color = 'var(--danger-color)';
                    messageEl.textContent = error.message;
                })
                .finally(hideLoader);
        });

        // Auth View Navigation
        document.getElementById('show-signup-link').addEventListener('click', (e) => {
            e.preventDefault();
            showAuthSubView('signup-view');
        });

        document.getElementById('show-login-link').addEventListener('click', (e) => {
            e.preventDefault();
            showAuthSubView('login-view');
        });

        document.getElementById('forgot-password-link').addEventListener('click', (e) => {
            e.preventDefault();
            showAuthSubView('forgot-password-view');
        });

        document.getElementById('back-to-login-link').addEventListener('click', (e) => {
            e.preventDefault();
            showAuthSubView('login-view');
        });

        // App Initialization
        async function initializeApp() {
            showLoader();
            await loadSettings();

            if (checkSystemStatus()) {
                await loadCategories();
                await loadAllProducts();
                listenToUserData();
                switchAppPage('home-page');
            }

            splashScreen.classList.add('d-none');
            hideLoader();
        }

        function checkSystemStatus() {
            if (globalSettings.maintenanceMode) {
                systemModal.classList.add('active');
                document.getElementById('system-modal-title').textContent = "Maintenance";
                document.getElementById('system-modal-msg').textContent = "App is currently under maintenance. Please try again later.";
                document.getElementById('system-modal-footer').innerHTML = `<button class="btn" onclick="location.reload()">Reload</button>`;
                return false;
            }
            if (globalSettings.latestVersion && globalSettings.latestVersion !== CURRENT_APP_VERSION) {
                systemModal.classList.add('active');
                document.getElementById('system-modal-title').textContent = "Update Required";
                document.getElementById('system-modal-msg').textContent = `New version (${globalSettings.latestVersion}) is available. Please update the app.`;
                const link = globalSettings.updateLink || '#';
                document.getElementById('system-modal-footer').innerHTML = `<a href="${link}" class="btn" target="_blank">Update Now</a>`;
                return false;
            }
            return true;
        }

        async function loadSettings() {
            try {
                const doc = await db.collection('settings').doc('global').get();
                if (doc.exists) {
                    const settings = doc.data();
                    globalSettings = settings;

                    const appName = settings.appName || 'TopUp Center';
                    splashLogo.textContent = appName;
                    document.getElementById('login-app-name').textContent = appName;
                    document.getElementById('signup-app-name').textContent = `Join ${appName}`;
                    document.getElementById('app-name-header').textContent = appName;
                    document.getElementById('notice-text').textContent = settings.notice || '';
                    document.getElementById('app-version-display').textContent = CURRENT_APP_VERSION;

                    // VIDEO CONTROL
                    const videoWrapper = document.getElementById('home-video-wrapper');
                    const videoIframe = document.getElementById('home-video-iframe');
                    if (settings.video_active && settings.video_url) {
                        videoIframe.src = settings.video_url;
                        videoWrapper.classList.remove('d-none');
                    } else {
                        videoWrapper.classList.add('d-none');
                        videoIframe.src = "";
                    }

                    const supportBtn = document.getElementById('floating-support-btn');
                    if (settings.supportUrl) {
                        supportBtn.href = settings.supportUrl;
                        supportBtn.classList.remove('d-none');
                    } else {
                        supportBtn.classList.add('d-none');
                    }

                    // Footer updates
                    if (settings.footer_notice_img) {
                        const banImg = document.getElementById('footer-banner-img');
                        banImg.src = settings.footer_notice_img;
                        banImg.classList.remove('d-none');
                    }
                    if (settings.footer_desc) document.getElementById('footer-desc').innerText = settings.footer_desc;

                    const setupSocial = (id, link) => {
                        const el = document.getElementById(id);
                        if (link) {
                            el.href = id === 'link-mail' ? `mailto:${link}` : link;
                            el.classList.remove('d-none');
                        } else {
                            el.classList.add('d-none');
                        }
                    };
                    setupSocial('link-fb', settings.social_fb);
                    setupSocial('link-insta', settings.social_insta);
                    setupSocial('link-yt', settings.social_yt);
                    setupSocial('link-mail', settings.social_email);

                    const teleLink = document.getElementById('tele-support-link');
                    if (settings.telegram_link) {
                        teleLink.href = settings.telegram_link;
                        teleLink.classList.remove('d-none');
                        if (settings.support_time) document.getElementById('support-time-text').textContent = settings.support_time;
                    } else {
                        teleLink.classList.add('d-none');
                    }

                    const slider = document.getElementById('image-slider');
                    slider.innerHTML = '';
                    for (let i = 1; i <= 3; i++) {
                        const imgKey = `slider_url_${i}`;
                        const linkKey = `slider_link_${i}`;
                        if (settings[imgKey]) {
                            const clickAction = settings[linkKey] ? `onclick="window.open('${settings[linkKey]}', '_blank')"` : '';
                            slider.innerHTML += `<div class="slide" ${clickAction}><img src="${settings[imgKey]}" alt="Banner"></div>`;
                        }
                    }
                    initSlider();

                    // Payments
                    document.getElementById('bkash-number').textContent = settings.payment_numbers?.bkash || 'N/A';
                    document.getElementById('nagad-number').textContent = settings.payment_numbers?.nagad || 'N/A';
                    document.getElementById('rocket-number').textContent = settings.payment_numbers?.rocket || 'N/A';

                    const minDeposit = settings.minDepositAmount || 0;
                    document.querySelectorAll('.min-deposit-display').forEach(el => el.textContent = minDeposit);
                }
            } catch (error) {
                console.error("Error loading settings: ", error);
            }
        }

        async function loadCategories() {
            try {
                const snapshot = await db.collection('categories').get();
                const list = document.getElementById('category-list');
                list.innerHTML = '';
                snapshot.forEach(doc => {
                    const cat = doc.data();
                    list.innerHTML += `
                        <div class="category-card" onclick="openCategoryProducts('${cat.name}')">
                            <img src="${cat.imageUrl}" alt="${cat.name}">
                            <div class="category-name">${cat.name}</div>
                        </div>
                    `;
                });
            } catch (error) {
                console.error("Error loading categories", error);
            }
        }

        async function loadAllProducts() {
            try {
                const snapshot = await db.collection('products').get();
                allProducts = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
            } catch (error) {
                console.error("Error loading products", error);
            }
        }

        function openCategoryProducts(categoryName) {
            const productContainer = document.getElementById('product-container');
            const categoryContainer = document.getElementById('category-container');
            const productListEl = document.getElementById('product-list');
            const titleEl = document.getElementById('current-category-title');

            const filteredProducts = allProducts.filter(p => p.category === categoryName);
            filteredProducts.sort((a, b) => a.price - b.price);

            titleEl.textContent = categoryName;
            productListEl.innerHTML = '';

            if (filteredProducts.length === 0) {
                productListEl.innerHTML = '<p style="text-align:center; padding:20px;">No products found in this category.</p>';
            } else {
                filteredProducts.forEach(product => {
                    const isOutOfStock = product.status === 'Out of Stock';
                    productListEl.innerHTML += `
                        <div class="product-card ${isOutOfStock ? 'out-of-stock' : ''}">
                            <img src="${product.imageUrl}" alt="${product.name}">
                            <div class="product-info">
                                <div class="product-name">${product.name}</div>
                                <div class="product-price">‡ß≥ ${product.price}</div>
                                <div class="product-actions">
                                    ${!isOutOfStock ? `
                                    <button class="btn-buy-now" onclick="initiatePurchase('${product.id}', '${product.name}', ${product.price})">
                                        Buy Now
                                    </button>
                                    ` : ''}
                                </div>
                            </div>
                        </div>
                    `;
                });
            }
            categoryContainer.classList.add('d-none');
            productContainer.classList.remove('d-none');
            window.scrollTo(0, 0);
        }

        function listenToUserData() {
            if (!currentUser) return;
            // Wallet
            db.collection('users').doc(currentUser.uid).onSnapshot(doc => {
                const userData = doc.data();
                if (userData) {
                    document.getElementById('wallet-balance-value').textContent = `‡ß≥ ${(userData.walletBalance || 0).toFixed(2)}`;
                    document.getElementById('user-email-display').textContent = userData.email;
                }
            });
            // Orders (Listen to User's private collection)
            db.collection('users').doc(currentUser.uid).collection('orders').orderBy('timestamp', 'desc').limit(20).onSnapshot(snapshot => {
                const orderListEl = document.getElementById('order-history-list');
                orderListEl.innerHTML = '';
                if (snapshot.empty) {
                    orderListEl.innerHTML = '<div class="empty-state">No orders yet.</div>';
                    return;
                }
                snapshot.forEach(doc => {
                    const order = doc.data();
                    orderListEl.innerHTML += `<li class="history-item"><div><strong>${order.productName}</strong><br><small>ID: ${order.playerID} | ‡ß≥ ${order.price} | ${order.paymentType || 'Wallet'}</small></div><span class="status"><span class="status-dot status-${order.status}"></span>${order.status}</span></li>`;
                });
            });
            // Deposits
            db.collection('users').doc(currentUser.uid).collection('deposits').orderBy('timestamp', 'desc').limit(20).onSnapshot(snapshot => {
                const depositListEl = document.getElementById('deposit-history-list');
                depositListEl.innerHTML = '';
                if (snapshot.empty) {
                    depositListEl.innerHTML = '<div class="empty-state">No deposits yet.</div>';
                    return;
                }
                snapshot.forEach(doc => {
                    const deposit = doc.data();
                    depositListEl.innerHTML += `<li class="history-item"><div><strong>${deposit.method} - ‡ß≥ ${deposit.amount}</strong><br><small>TnxID: ${deposit.transactionId}</small></div><span class="status"><span class="status-dot status-${deposit.status}"></span>${deposit.status}</span></li>`;
                });
            });
        }

        // Purchase Modal Functions
        function initiatePurchase(productId, productName, productPrice) {
            if (globalSettings.maintenanceMode) return showToast("App is in maintenance", "error");
            currentProduct = allProducts.find(p => p.id === productId);

            // Reset UI
            document.getElementById('purchase-player-id').value = '';
            document.querySelectorAll('.method-card').forEach(c => c.classList.remove('selected'));
            document.getElementById('instant-options').classList.add('d-none');
            document.getElementById('btn-wallet-confirm').classList.add('d-none');

            // Show Modal
            document.getElementById('view-selection').classList.remove('d-none');
            document.getElementById('view-gateway').classList.remove('active');
            purchaseModal.classList.add('active');
        }

        function closePurchaseModal() {
            purchaseModal.classList.remove('active');
            currentProduct = null;
        }

        function selectPurchaseMethod(method) {
            document.querySelectorAll('.method-card').forEach(c => c.classList.remove('selected'));
            document.getElementById(`card-${method}`).classList.add('selected');

            if (method === 'wallet') {
                document.getElementById('instant-options').classList.add('d-none');
                document.getElementById('btn-wallet-confirm').classList.remove('d-none');
            } else if (method === 'instant') {
                document.getElementById('instant-options').classList.remove('d-none');
                document.getElementById('btn-wallet-confirm').classList.add('d-none');
            }
        }

        function confirmWalletPurchase() {
            const playerID = document.getElementById('purchase-player-id').value.trim();
            if (!playerID) {
                showToast('Please enter Player ID.', 'error');
                return;
            }

            showLoader();
            const userRef = db.collection('users').doc(currentUser.uid);

            db.runTransaction(async (transaction) => {
                const userDoc = await transaction.get(userRef);
                if (!userDoc.exists) throw "User document does not exist!";
                const currentBalance = userDoc.data().walletBalance || 0;
                if (currentBalance <= 0) throw "ZERO_BALANCE";
                if (currentBalance < currentProduct.price) throw "INSUFFICIENT_BALANCE";

                const newBalance = currentBalance - currentProduct.price;
                transaction.update(userRef, { walletBalance: newBalance });

                const orderData = {
                    uid: currentUser.uid,
                    userEmail: currentUser.email,
                    playerID: playerID,
                    productName: currentProduct.name,
                    productId: currentProduct.id,
                    price: currentProduct.price,
                    status: 'Pending',
                    paymentType: 'wallet',
                    timestamp: firebase.firestore.FieldValue.serverTimestamp()
                };
                const newOrderRef = db.collection('orders').doc();
                transaction.set(newOrderRef, orderData);
                transaction.set(userRef.collection('orders').doc(newOrderRef.id), orderData);

            }).then(() => {
                showToast('Order placed successfully!', 'success');
                closePurchaseModal();
            }).catch(error => {
                let errorMessage = `Order failed: ${error}`;
                if (error === "ZERO_BALANCE") errorMessage = 'Your wallet is empty.';
                else if (error === "INSUFFICIENT_BALANCE") errorMessage = 'Insufficient balance.';
                showToast(errorMessage, 'error');
            }).finally(hideLoader);
        }

        function openGateway(method) {
            const playerID = document.getElementById('purchase-player-id').value.trim();
            if (!playerID) {
                showToast('Please enter Player ID first.', 'error');
                return;
            }

            currentGatewayMethod = method;

            // Configure Gateway UI
            const container = document.getElementById('view-gateway');
            container.className = `gateway-container active theme-${method}`;

            document.getElementById('gateway-name').innerText = method.charAt(0).toUpperCase() + method.slice(1);
            document.getElementById('gateway-step-name').innerText = method.charAt(0).toUpperCase() + method.slice(1);
            document.getElementById('gateway-amount').innerText = `‡ß≥ ${currentProduct.price}`;
            document.getElementById('gateway-step-amount').innerText = `‡ß≥ ${currentProduct.price}`;

            let number = globalSettings.payment_numbers?.[method] || 'N/A';
            document.getElementById('gateway-number').innerText = number;

            document.getElementById('gateway-trx').value = ''; // Clear Input

            // Hide selection view, show gateway
            document.getElementById('view-selection').classList.add('d-none');
        }

        function backToSelection() {
            document.getElementById('view-gateway').classList.remove('active');
            document.getElementById('view-selection').classList.remove('d-none');
        }

        async function submitGatewayOrder() {
            const transactionId = document.getElementById('gateway-trx').value.trim();
            const playerID = document.getElementById('purchase-player-id').value.trim();

            if (!transactionId) {
                showToast("Please enter Transaction ID", "error");
                return;
            }
            if (!currentProduct) return;

            showLoader();
            try {
                const orderData = {
                    uid: currentUser.uid,
                    userEmail: currentUser.email,
                    playerID: playerID,
                    productName: currentProduct.name,
                    productId: currentProduct.id,
                    price: currentProduct.price,
                    status: 'Pending',
                    paymentType: 'direct',
                    paymentMethod: currentGatewayMethod,
                    transactionId: transactionId,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp()
                };

                const newOrderRef = db.collection('orders').doc();
                const batch = db.batch();
                batch.set(newOrderRef, orderData);
                batch.set(db.collection('users').doc(currentUser.uid).collection('orders').doc(newOrderRef.id), orderData);
                await batch.commit();

                showToast('Payment submitted! Admin will verify.', 'success');
                closePurchaseModal();

            } catch (error) {
                console.error("Error placing direct order: ", error);
                showToast('Failed to place order. Please try again.', 'error');
            } finally {
                hideLoader();
            }
        }

        // Event Listeners
        document.querySelector('.footer-nav').addEventListener('click', (e) => {
            const navItem = e.target.closest('.nav-item');
            if (navItem) {
                switchAppPage(navItem.dataset.page);
            }
        });

        document.querySelector('.payment-tabs').addEventListener('click', (e) => {
            const tabLink = e.target.closest('.tab-link');
            if (tabLink) {
                const tabId = tabLink.dataset.tab;
                document.querySelectorAll('.tab-link').forEach(t => t.classList.remove('active'));
                tabLink.classList.add('active');
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                document.getElementById(`${tabId}-tab`).classList.add('active');
            }
        });

        document.getElementById('back-to-categories-btn').addEventListener('click', showCategoryView);

        // Deposit Submit
        document.querySelectorAll('.deposit-form').forEach(form => {
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                if (globalSettings.maintenanceMode) return showToast("App is in maintenance", "error");

                showLoader();
                const amount = parseFloat(e.target.querySelector('input[type="number"]').value);
                const transactionId = e.target.querySelector('input[type="text"]').value;
                const method = e.target.dataset.method;
                const minDepositAmount = globalSettings.minDepositAmount || 0;

                if (amount < minDepositAmount) {
                    showToast(`Minimum deposit amount is ‡ß≥${minDepositAmount}.`, 'error');
                    hideLoader();
                    return;
                }
                if (isNaN(amount) || amount <= 0) {
                    showToast('Please enter a valid amount.', 'error');
                    hideLoader();
                    return;
                }

                const depositData = {
                    uid: currentUser.uid,
                    userEmail: currentUser.email,
                    amount: amount,
                    method: method,
                    transactionId: transactionId,
                    status: 'Pending',
                    timestamp: firebase.firestore.FieldValue.serverTimestamp()
                };
                try {
                    const topLevelDocRef = db.collection('deposits').doc();
                    const userSubDocRef = db.collection('users').doc(currentUser.uid).collection('deposits').doc(topLevelDocRef.id);
                    const batch = db.batch();
                    batch.set(topLevelDocRef, depositData);
                    batch.set(userSubDocRef, depositData);
                    await batch.commit();
                    showToast('Deposit request submitted successfully!', 'success');
                    form.reset();
                    switchAppPage('deposit-page'); // Stay on deposit or go to history
                } catch (error) {
                    console.error("Error submitting deposit: ", error);
                    showToast('Failed to submit deposit request.', 'error');
                } finally {
                    hideLoader();
                }
            });
        });

        // Make functions globally available
        window.openCategoryProducts = openCategoryProducts;
        window.showCategoryView = showCategoryView;
        window.initiatePurchase = initiatePurchase;
        window.closePurchaseModal = closePurchaseModal;
        window.selectPurchaseMethod = selectPurchaseMethod;
        window.confirmWalletPurchase = confirmWalletPurchase;
        window.openGateway = openGateway;
        window.backToSelection = backToSelection;
        window.submitGatewayOrder = submitGatewayOrder;
        window.copyToClipboard = copyToClipboard;
    </script>
</body>

</html>
















